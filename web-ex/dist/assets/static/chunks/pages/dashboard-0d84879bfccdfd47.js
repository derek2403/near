(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{51075:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(51872)}])},51872:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(85893),s=n(67294),i=n(86050),r=n(82187),l=n(68447),c=n(90845),o=n(19314);function u(e){let{balance:t="0",walletInfo:n=null,transactions:i=[],isLoadingTxns:r=!0,formatDate:l=e=>new Date(e).toLocaleString(),getTransactionType:u=()=>"Unknown",getTransactionAmount:d=()=>"0",pagination:h={currentPage:1,totalPages:1,onPageChange:()=>{}}}=e,[m,f]=(0,s.useState)(!1);return n?(0,a.jsx)(c.w,{children:(0,a.jsx)(o.G,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Account ID"}),(0,a.jsx)("p",{children:null==n?void 0:n.accountId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Balance"}),(0,a.jsxs)("p",{children:[t," NEAR"]})]})]})})}):null}var d=n(98312);let{connect:h,keyStores:m,providers:f}=l;function x(){let[e,t]=(0,s.useState)(!0),[n,c]=(0,s.useState)(null),[o,h]=(0,s.useState)("0"),[m,x]=(0,s.useState)("0"),[g,w]=(0,s.useState)([]),[j,v]=(0,s.useState)(!0),[p,N]=(0,s.useState)(1),[_,y]=(0,s.useState)(1);return((0,s.useEffect)(()=>{let e=async()=>{try{t(!0);let e=await d.t.get("publicWalletInfo");if(!e){window.location.href=chrome.runtime.getURL("index.html");return}c(e);let n=new f.JsonRpcProvider({url:"https://rpc.testnet.near.org"}),a=await n.query({request_type:"view_account",finality:"final",account_id:e.accountId}),s=l.utils.format.formatNearAmount(a.amount);h(Number(s).toFixed(6)),x(a.amount),t(!1)}catch(e){console.error("Error checking wallet:",e),t(!1)}};e()},[]),e)?(0,a.jsx)("div",{className:"min-h-[600px] flex items-center justify-center",children:(0,a.jsx)("div",{children:"Loading..."})}):(0,a.jsx)("div",{className:"min-h-[600px] p-4 bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Wallet Dashboard"}),(0,a.jsx)(i.A,{isIconOnly:!0,variant:"light",onPress:()=>{window.location.href=chrome.runtime.getURL("settings.html")},children:(0,a.jsx)(r.Z,{className:"h-6 w-6"})})]}),(0,a.jsx)(u,{balance:o,walletInfo:n,transactions:g,isLoadingTxns:j,formatDate:e=>new Date(e/1e6).toLocaleString(),getTransactionType:(e,t)=>e.signer_id===t?"Sent":"Received",getTransactionAmount:e=>{var t,n;return l.utils.format.formatNearAmount((null===(n=e.actions[0])||void 0===n?void 0:null===(t=n.args)||void 0===t?void 0:t.deposit)||"0")},pagination:{currentPage:p,totalPages:_,onPageChange:N}})]})})}}},function(e){e.O(0,[736,592,888,179],function(){return e(e.s=51075)}),_N_E=e.O()}]);