(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{9804:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createWallet",function(){return s(38573)}])},75119:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(85893),r=s(66810),l=s(31505),n=s(87740),c=s(86597),o=s(54543),i=s(96476),d=s(86050),u=s(67294);function m(e){let{isOpen:t,onClose:s,onSubmit:m,error:h}=e,[x,g]=(0,u.useState)(""),[b,p]=(0,u.useState)(""),[y,j]=(0,u.useState)(""),w=()=>{if(x.length<1){j("Password must be at least 8 characters");return}if(x!==b){j("Passwords do not match");return}m(x)};return(0,a.jsx)(r.R,{isOpen:t,placement:"top-center",onOpenChange:s,children:(0,a.jsx)(l.A,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.k,{className:"flex flex-col gap-1",children:"Create Password"}),(0,a.jsxs)(c.I,{children:[(0,a.jsx)(o.Y,{label:"Enter your password",type:"password",variant:"bordered",value:x,onChange:e=>g(e.target.value),minLength:8,required:!0}),(0,a.jsx)(o.Y,{label:"Confirm Password",type:"password",variant:"bordered",value:b,onChange:e=>p(e.target.value),minLength:8,required:!0}),(h||y)&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:h||y})]}),(0,a.jsxs)(i.R,{children:[(0,a.jsx)(d.A,{color:"danger",variant:"flat",onPress:e,children:"Cancel"}),(0,a.jsx)(d.A,{color:"primary",onPress:w,children:"Secure Wallet"})]})]})})})}},38573:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(85893),r=s(67294),l=s(68447),n=s(32132),c=s(62940),o=s(23023),i=s(3306),d=s(36165),u=s(11163),m=s(75119),h=s(41027),x=s(90845),g=s(19314),b=s(54543),p=s(96180),y=s(86050),j=s(98312),w=s(29159);let{connect:f,keyStores:N,KeyPair:v}=l;function k(){let e=(0,u.useRouter)(),[t,s]=(0,r.useState)(!1),[l,k]=(0,r.useState)(null),[C,S]=(0,r.useState)(null),[P,A]=(0,r.useState)(""),[I,K]=(0,r.useState)(!1),[E,Z]=(0,r.useState)(null),[_,O]=(0,r.useState)(!1),[T,W]=(0,r.useState)(!1),[L,G]=(0,r.useState)({seedPhrase:!1,privateKey:!1,publicKey:!1,accountId:!1}),[R,D]=(0,r.useState)(""),{isOpen:U,onOpen:q,onClose:H}=(0,h.q)();(0,r.useEffect)(()=>{if(!P){Z(null);return}let e=async()=>{try{K(!0),k(null);let e="".concat(P,".testnet");console.log("Checking availability for account: ".concat(e));let t=await fetch("https://rpc.testnet.near.org",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_account",finality:"final",account_id:e}})}),s=await t.json();console.log("RPC response:",s),s.error&&s.error.cause&&"UNKNOWN_ACCOUNT"===s.error.cause.name?(console.log("Account ".concat(e," does not exist - IS available")),Z(!0)):(console.log("Account ".concat(e," exists - NOT available")),Z(!1))}catch(e){console.error("Error checking account availability:",e),k(e.message)}finally{K(!1)}},t=setTimeout(()=>{e()},1e3);return()=>clearTimeout(t)},[P]);let V=async()=>{try{s(!0),k(null);let{seedPhrase:e,secretKey:t,publicKey:a}=(0,n.generateSeedPhrase)(),r="".concat(P,".testnet"),l={networkId:"testnet",keyStore:new N.InMemoryKeyStore,nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://testnet.mynearwallet.com/",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://testnet.nearblocks.io"},c=await f(l),o=v.fromString(t),i=new N.InMemoryKeyStore;await i.setKey("testnet",r,o),await c.createAccount(r,a),S({accountId:r,seedPhrase:e,publicKey:a,secretKey:t})}catch(e){k(e.message)}finally{s(!1)}},M=async(e,t)=>{try{await navigator.clipboard.writeText(e),G(e=>({...e,[t]:!0})),setTimeout(()=>{G(e=>({...e,[t]:!1}))},2e3)}catch(e){console.error("Failed to copy:",e)}},Y=async t=>{try{let s=await j.e.encrypt(C,t);await j.t.set("encryptedWallet",s);let a={accountId:C.accountId,publicKey:C.publicKey};await j.t.set("publicWalletInfo",a);let r=await j.e.hashPassword(t);await j.t.set("passwordHash",r),H();let l="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id;l?w.f.replace("dashboard"):e.push("/dashboard")}catch(e){D("Error securing wallet"),console.error(e)}};return(0,a.jsxs)("div",{className:"min-h-screen p-8 bg-gray-50",children:[(0,a.jsx)(x.w,{className:"max-w-md mx-auto md:max-w-2xl",children:(0,a.jsxs)(g.G,{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Create New Account"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Enter an Account ID to use with your NEAR account. Your Account ID will be used for all NEAR operations, including sending and receiving assets."}),l&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(x.w,{className:"bg-danger-50 border-none",children:(0,a.jsx)(g.G,{className:"text-danger",children:l})})}),!C&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(b.Y,{label:"Enter your Wallet Name",value:P,onChange:e=>{A(e.target.value.toLowerCase()),Z(null)},variant:"bordered",endContent:(0,a.jsx)("span",{className:"text-gray-500",children:".testnet"}),className:"max-w-full"})}),I&&(0,a.jsxs)("div",{className:"text-gray-600 mb-4 flex items-center gap-2",children:[(0,a.jsx)(p.c,{size:"sm"}),(0,a.jsx)("span",{children:"Checking availability..."})]}),null!==E&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(x.w,{className:E?"bg-success-50":"bg-danger-50",children:(0,a.jsx)(g.G,{className:E?"text-success":"text-danger",children:E?"Congrats! ".concat(P,".testnet is available."):"Account ID is taken. Try something else."})})}),(0,a.jsx)(y.A,{onPress:V,isDisabled:t||!E||!P,color:"primary",className:"w-full",size:"lg",isLoading:t,spinner:(0,a.jsx)(p.c,{color:"white",size:"sm"}),children:"Generate New Wallet"})]}),C&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(x.w,{className:"bg-success-50 border-none",children:(0,a.jsx)(g.G,{className:"text-success",children:"Wallet Generated Successfully!"})}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[(0,a.jsx)("h2",{className:"font-semibold text-yellow-800 mb-4",children:"Important: Save This Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account ID:"}),(0,a.jsxs)("div",{className:"flex items-center bg-white p-3 rounded-lg border",children:[(0,a.jsx)("p",{className:"text-sm flex-1",children:C.accountId}),(0,a.jsx)("button",{onClick:()=>M(C.accountId,"accountId"),className:"ml-2 text-gray-500 hover:text-gray-700",children:L.accountId?(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(i.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seed Phrase:"}),(0,a.jsxs)("div",{className:"flex items-center bg-white p-3 rounded-lg border",children:[(0,a.jsx)("p",{className:"text-sm flex-1 break-all ".concat(_?"":"blur-sm"),children:C.seedPhrase}),(0,a.jsx)("button",{onClick:()=>M(C.seedPhrase,"seedPhrase"),className:"ml-2 text-gray-500 hover:text-gray-700",children:L.seedPhrase?(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>O(!_),className:"ml-2 text-gray-500 hover:text-gray-700",children:_?(0,a.jsx)(o.Z,{className:"h-5 w-5"}):(0,a.jsx)(c.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Private Key:"}),(0,a.jsxs)("div",{className:"flex items-center bg-white p-3 rounded-lg border",children:[(0,a.jsx)("p",{className:"text-sm flex-1 break-all ".concat(T?"":"blur-sm"),children:C.secretKey}),(0,a.jsx)("button",{onClick:()=>M(C.secretKey,"privateKey"),className:"ml-2 text-gray-500 hover:text-gray-700",children:L.privateKey?(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>W(!T),className:"ml-2 text-gray-500 hover:text-gray-700",children:T?(0,a.jsx)(o.Z,{className:"h-5 w-5"}):(0,a.jsx)(c.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Public Key:"}),(0,a.jsxs)("div",{className:"flex items-center bg-white p-3 rounded-lg border",children:[(0,a.jsx)("p",{className:"text-sm flex-1 break-all",children:C.publicKey}),(0,a.jsx)("button",{onClick:()=>M(C.publicKey,"publicKey"),className:"ml-2 text-gray-500 hover:text-gray-700",children:L.publicKey?(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(i.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-600 text-sm font-medium",children:"⚠️ Warning: Store this information securely. Never share your private key or seed phrase with anyone!"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsx)("button",{onClick:q,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 transition-all duration-200 transform hover:-translate-y-0.5",children:"Go to Dashboard"}),(0,a.jsx)("button",{onClick:()=>{S(null),k(null),O(!1),W(!1),G({seedPhrase:!1,privateKey:!1,publicKey:!1,accountId:!1})},className:"w-full bg-gray-500 text-white py-3 px-4 rounded-lg hover:bg-gray-600 transition-all duration-200 transform hover:-translate-y-0.5",children:"Generate Another Wallet"})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have a wallet?"," ",(0,a.jsx)("span",{onClick:()=>{let t="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id;t?w.f.replace("login"):e.push("/login")},style:{color:"#0070f3",cursor:"pointer"},children:"Login here"})]})})]})}),(0,a.jsx)(m.Z,{isOpen:U,onClose:H,onSubmit:Y,error:R})]})}},46601:function(){},52361:function(){},94616:function(){},55024:function(){},36165:function(e,t,s){"use strict";var a=s(67294);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))});t.Z=r},3306:function(e,t,s){"use strict";var a=s(67294);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))});t.Z=r}},function(e){e.O(0,[714,265,612,364,774,888,179],function(){return e(e.s=9804)}),_N_E=e.O()}]);